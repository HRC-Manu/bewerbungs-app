<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Cache-Control" content="public, max-age=31536000, immutable">
    <meta name="description" content="Bewerbungsassistent - Erstellen Sie professionelle Bewerbungen mit KI-Unterstützung">
    <title>KI-Bewerbungsmanager</title>
    
    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/future-design.css" rel="stylesheet">
    <link href="css/bootstrap-override.css" rel="stylesheet">
    
    <style>
        .feature-card {
            border-radius: 16px;
            transition: all 0.3s ease;
            height: 100%;
            min-height: 220px;
            overflow: hidden;
            position: relative;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: inline-block;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            transition: transform 0.3s ease;
        }
        
        .feature-card:hover .feature-icon {
            transform: scale(1.1);
        }
        
        .offline-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 100;
        }
        
        #uploadProgress {
            height: 6px;
            transition: width 0.3s ease;
        }
        
        .upload-area {
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover, .upload-area.dragover {
            border-color: var(--primary-color);
            background-color: var(--primary-light);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="bg-primary text-white py-4 mb-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h1 class="mb-0 fw-bold">
                        <i class="bi bi-file-earmark-text me-2"></i>
                        KI-Bewerbungsmanager
                    </h1>
                </div>
                <div class="col-md-6 text-md-end">
                    <button class="btn btn-outline-light" id="darkModeToggle">
                        <i class="bi bi-moon-stars me-2"></i>
                        Dark Mode
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="container pb-5">
        <!-- Intro Section -->
        <section class="text-center mb-5">
            <h2 class="fw-bold mb-3">KI-gestützter Bewerbungsprozess</h2>
            <p class="lead text-muted mb-4">Erstellen Sie erstklassige Bewerbungsunterlagen mit modernster KI-Technologie</p>
            
            <div class="d-flex justify-content-center">
                <button class="btn btn-future btn-primary-gradient btn-lg" id="startWorkflowBtn">
                    <i class="bi bi-play-circle me-2"></i>
                    Bewerbungsprozess starten
                </button>
            </div>
        </section>
        
        <!-- Features as Cards -->
        <section class="mb-5">
            <div class="row g-4">
                <!-- Lebenslauf Upload -->
                <div class="col-md-6 col-lg-3">
                    <div class="card feature-card h-100 shadow-sm">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="bi bi-file-earmark-person"></i>
                            </div>
                            <h3 class="h5 mb-3">Lebenslauf Upload</h3>
                            <p class="text-muted mb-4">Laden Sie Ihren Lebenslauf hoch und erhalten Sie eine KI-Analyse</p>
                            <button class="btn btn-primary w-100" id="uploadResumeBtn">
                                <i class="bi bi-upload me-2"></i>
                                Lebenslauf hochladen
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Stellenanzeige Analyse -->
                <div class="col-md-6 col-lg-3">
                    <div class="card feature-card h-100 shadow-sm">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="bi bi-search"></i>
                            </div>
                            <h3 class="h5 mb-3">Stellenanzeige Analyse</h3>
                            <p class="text-muted mb-4">Analysieren Sie Stellenanzeigen und finden Sie wichtige Anforderungen</p>
                            <button class="btn btn-primary w-100" id="analyzeJobBtn">
                                <i class="bi bi-eye me-2"></i>
                                Stelle analysieren
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Anschreiben Generator -->
                <div class="col-md-6 col-lg-3">
                    <div class="card feature-card h-100 shadow-sm">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="bi bi-pencil-square"></i>
                            </div>
                            <h3 class="h5 mb-3">Anschreiben Generator</h3>
                            <p class="text-muted mb-4">Erstellen Sie personalisierte Anschreiben mit KI-Unterstützung</p>
                            <button class="btn btn-primary w-100" id="createCoverLetterBtn">
                                <i class="bi bi-magic me-2"></i>
                                Anschreiben erstellen
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Lebenslauf Optimierung -->
                <div class="col-md-6 col-lg-3">
                    <div class="card feature-card h-100 shadow-sm">
                        <div class="card-body text-center p-4">
                            <div class="feature-icon">
                                <i class="bi bi-graph-up-arrow"></i>
                            </div>
                            <h3 class="h5 mb-3">Lebenslauf Optimierung</h3>
                            <p class="text-muted mb-4">Optimieren Sie Ihren Lebenslauf für konkrete Stellenangebote</p>
                            <button class="btn btn-primary w-100" id="optimizeResumeBtn">
                                <i class="bi bi-diagram-3 me-2"></i>
                                Lebenslauf verbessern
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Upload Modal -->
        <div class="modal fade" id="uploadModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header bg-primary text-white">
                        <h5 class="modal-title">
                            <i class="bi bi-file-earmark-arrow-up me-2"></i>
                            Lebenslauf hochladen
                        </h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div id="uploadArea" class="upload-area mb-4">
                            <i class="bi bi-cloud-arrow-up display-4 text-primary mb-3"></i>
                            <h5>Ziehen Sie Ihren Lebenslauf hierher</h5>
                            <p class="text-muted mb-3">oder</p>
                            <input type="file" id="resumeFileInput" class="d-none" accept=".pdf,.docx,.doc,.txt">
                            <button class="btn btn-primary" id="browseFilesBtn">
                                <i class="bi bi-folder2-open me-2"></i>
                                Datei auswählen
                            </button>
                            <div class="small text-muted mt-2">Unterstützte Formate: PDF, DOCX, DOC, TXT</div>
                        </div>
                        
                        <div id="uploadProgressContainer" class="d-none mb-4">
                            <label class="form-label fw-bold mb-2">Upload-Fortschritt</label>
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" 
                                     id="uploadProgress" role="progressbar" style="width: 0%"></div>
                            </div>
                            <div class="small text-muted mt-1 text-end" id="uploadStatus">Vorbereitung...</div>
                        </div>
                        
                        <div id="uploadResult" class="d-none">
                            <div class="alert alert-success mb-0">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill fs-4 me-3"></i>
                                    <div>
                                        <h5 class="alert-heading mb-1">Upload erfolgreich!</h5>
                                        <p class="mb-0" id="uploadedFileName">lebenslauf.pdf</p>
                                        <div class="small text-muted" id="uploadedFileInfo">PDF, 245 KB</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Schließen</button>
                        <button type="button" class="btn btn-primary" id="analyzeFileBtn" disabled>
                            <i class="bi bi-lightning me-2"></i>
                            Datei analysieren
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Job Analysis Modal -->
        <div class="modal fade" id="jobModal" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header bg-primary text-white">
                        <h5 class="modal-title">
                            <i class="bi bi-search me-2"></i>
                            Stellenanzeige analysieren
                        </h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label fw-bold">Stellenanzeige eingeben oder einfügen</label>
                            <textarea class="form-control" id="jobPostingText" rows="10" 
                                     placeholder="Fügen Sie hier den Text der Stellenanzeige ein..."></textarea>
                        </div>
                        
                        <div class="text-end mb-3">
                            <button class="btn btn-outline-primary btn-sm" id="insertExampleJobBtn">
                                <i class="bi bi-clipboard-plus me-2"></i>
                                Beispiel einfügen
                            </button>
                        </div>
                        
                        <div id="jobAnalysisResult" class="d-none">
                            <!-- Wird dynamisch gefüllt -->
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Schließen</button>
                        <button type="button" class="btn btn-primary" id="analyzeJobPostingBtn">
                            <i class="bi bi-search me-2"></i>
                            Analysieren
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Toast Container -->
    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="toast" class="toast align-items-center text-white bg-primary border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="bi bi-info-circle me-2"></i>
                    <span id="toastMessage">Nachricht</span>
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/standalone-upload.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Modal initializations
            const uploadModal = new bootstrap.Modal(document.getElementById('uploadModal'));
            const jobModal = new bootstrap.Modal(document.getElementById('jobModal'));
            
            // Button event listeners
            document.getElementById('uploadResumeBtn').addEventListener('click', function() {
                uploadModal.show();
            });
            
            document.getElementById('analyzeJobBtn').addEventListener('click', function() {
                jobModal.show();
            });
            
            document.getElementById('createCoverLetterBtn').addEventListener('click', function() {
                // Prüfen ob Lebenslauf und Stellenanzeige vorhanden sind
                if (window.resumeData && window.jobData) {
                    // Weiterleitung zur Cover Letter Seite
                    window.location.href = 'cover-letter.html';
                } else {
                    showToast('Bitte laden Sie zuerst einen Lebenslauf hoch und analysieren Sie eine Stellenanzeige', 'warning');
                }
            });
            
            document.getElementById('optimizeResumeBtn').addEventListener('click', function() {
                if (window.resumeData) {
                    window.location.href = 'resume-optimizer.html';
                } else {
                    showToast('Bitte laden Sie zuerst einen Lebenslauf hoch', 'warning');
                }
            });
            
            document.getElementById('startWorkflowBtn').addEventListener('click', function() {
                window.location.href = 'workflow.html';
            });
            
            // Dark Mode Toggle
            document.getElementById('darkModeToggle').addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                
                // Speichere Präferenz
                if (document.body.classList.contains('dark-mode')) {
                    localStorage.setItem('darkMode', 'enabled');
                } else {
                    localStorage.setItem('darkMode', 'disabled');
                }
            });
            
            // Beispiel-Stellenanzeige
            document.getElementById('insertExampleJobBtn').addEventListener('click', function() {
                document.getElementById('jobPostingText').value = `Fullstack-Entwickler (m/w/d) - React und Node.js

Wir suchen zum nächstmöglichen Zeitpunkt einen erfahrenen Fullstack-Entwickler für unser agiles Entwicklungsteam.

Ihre Aufgaben:
- Entwicklung moderner Webanwendungen mit React und Node.js
- Konzeption und Implementierung von Microservices
- Code Reviews und Mentoring von Junioren
- Enge Zusammenarbeit mit Product Ownern und UX-Designern

Ihr Profil:
- Mind. 3 Jahre Berufserfahrung in der Webentwicklung
- Sehr gute Kenntnisse in JavaScript/TypeScript, React und Node.js
- Erfahrung mit Datenbanken (SQL und NoSQL)
- Agile Entwicklungsmethoden (Scrum/Kanban)

Wir bieten:
- Flexible Arbeitszeiten und Remote-Möglichkeiten
- Moderne Technologie-Stack und innovative Projekte
- Regelmäßige Weiterbildungen
- Attraktives Gehalt und zusätzliche Benefits`;
            });
            
            // Check for existing dark mode preference
            if (localStorage.getItem('darkMode') === 'enabled') {
                document.body.classList.add('dark-mode');
            }
            
            // Toast function
            window.showToast = function(message, type = 'primary') {
                const toast = document.getElementById('toast');
                const toastMessage = document.getElementById('toastMessage');
                
                toast.classList.remove('bg-primary', 'bg-success', 'bg-danger', 'bg-warning');
                
                switch(type) {
                    case 'success':
                        toast.classList.add('bg-success');
                        break;
                    case 'error':
                    case 'danger':
                        toast.classList.add('bg-danger');
                        break;
                    case 'warning':
                        toast.classList.add('bg-warning');
                        break;
                    default:
                        toast.classList.add('bg-primary');
                }
                
                toastMessage.textContent = message;
                
                const bsToast = new bootstrap.Toast(toast);
                bsToast.show();
            };
        });
    </script>
</body>
</html> 
